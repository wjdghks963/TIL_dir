# ν†µμ‹ κ³Ό HTTP λ³µμµ

serverμ™€ clientλ” request&responseλ¥Ό λ°λ³µν•λ‹¤.

- stateless
  μ΄ λ°λ³µλλ” ν†µμ‹ λ“¤μ€ λ¨λ‘ λ…λ¦½μ μ΄μ–΄μ„ κ³Όκ±° HTTP ν†µμ‹  κ²°κ³Όλ¥Ό λ³΄μ΅΄ν•μ§€ μ•λ”λ‹¤.

  λ”°λΌμ„ κ²°κ³Όλ¥Ό λ³΄μ΅΄ν•κ³  μ‹¶λ‹¤λ©΄ tokenμ„ μ‚¬μ©ν•λ‹¤.

# JWT

JSON Web Token

JSON format(the arrangement of data fields for a specific shape)μ„ μ΄μ©ν•΄ μ‚¬μ©μμ— λ€ν• μ†μ„±μ„ μ €μ¥ν•λ” Claim(μ‚¬μ©μ μ •λ³΄λ‚ λ°μ΄ν„° μ†μ„± λ“±)κΈ°λ° Web Tokenμ΄λ‹¤.

Tokenμ΄λ€ https://badstorage.tistory.com/29

κ³µκ° ν‚¤ μ•”νΈ λ°©μ‹(PKC, Public Key Cryptograpyh)μ„ μ‚¬μ©ν•λ‹¤.

β λΉ„λ°€ ν‚¤λ΅ μ•”νΈν™”ν• λ°μ΄ν„°λ” λ‹¤μ‹ λΉ„λ°€ ν‚¤λ΅ ν’€ μ μ—†κ³ ,
β κ³µκ° ν‚¤λ΅ μ•”νΈν™” ν• λ‹¤μ‹ λ°μ΄ν„°λ” κ³µκ° ν‚¤λ΅ ν’€ μ μ—†λ‹¤.

πΆ μ„λ…: λΉ„λ°€ ν‚¤λ¥Ό κ°€μ§„ κ·Ήμ†μ(μ£Όλ΅ ν•λ…)λ§ λ°μ΄ν„°μ— μ„λ…ν•  μ μλ‹¤. κ³µκ° ν‚¤λ¥Ό κ°€μ§„ μ•„λ¬΄λ‚ λ°μ΄ν„°μ μ„λ…μ„ κ²€μ¦ν•  μ μλ‹¤.
πΆ μ•”νΈν™”: κ³µκ° ν‚¤λ¥Ό κ°€μ§„ μ•„λ¬΄λ‚ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•  μ μλ‹¤. λΉ„λ°€ ν‚¤λ¥Ό κ°€μ§„ κ·Ήμ†μλ§ λ°μ΄ν„°λ¥Ό λ³µνΈν™”ν•΄ ν™•μΈν•  μ μλ‹¤.

- μμ„

  1. JWT Tokenμ„ clientκ°€ serverλ΅ μ”μ²­κ³Ό λ™μ‹μ— μ „λ‹¬
  2. serverκ°€ κ°€μ§€κ³  μλ” κ°μΈν‚¤λ¥Ό κ°€μ§€κ³  μ„λ…μ„ λ³µνΈν™”ν• ν›„ headerκ°€ JWTμ headerμ™€ μΌμΉν• μ§€, payloadμ™€ μΌμΉν•μ§€ ν™•μΈν•κ³  μΌμΉν•λ‹¤λ©΄ ν—μ©ν•λ‹¤.

- ν•μ‹
  `header.payload.signature`

1. header (ν—¤λ”)
   tokenμ νƒ€μ…κ³Ό ν•΄μ‹μ•κ³ λ¦¬μ¦ μ •λ³΄
   BASE64 λ°©μ‹μΌλ΅ μΈμ½”λ”©ν•΄μ„ JWT κ°€μ¥ μ²«λ¶€λ¶„μ— κΈ°λ΅

   ex) `{"alg":"HS256", "typ":JWT}`

2. payload (λ‚΄μ©)
   λ§λ£μ‹κ°„μ„ λ‚νƒ€λ‚΄λ” κ³µκ° ν΄λ μ„
   clientμ™€ serverκ°„ ν‘μν•μ— μ‚¬μ©ν•λ” λΉ„κ³µκ° ν΄λ μ„

   λ‘κ°€μ§€ μ΅°ν•©ν•μ—¬ μ‘μ„± ν›„ BASE64 μΈμ½”λ”©ν•΄ λ‘λ²μ§Έ μ”μ†λ΅ μ„μΉ

   β›”οΈ λ―Όκ°ν• μ •λ³΄λ” μ λ€ λ‹΄μ§€ μ•λ”λ‹¤.

   μλ¥Ό λ“¤λ©΄ μ›”μ •μ•΅ μ„λΉ„μ¤μ—μ„ μ΄ μ‚¬λμ΄ κ²°μ κ°€ λμ–΄μλ‚ ν™•μΈν•  μ μμ

   ex) `{"user-id":1,"exp":123421}`

   - Claimμ΄λ€
     ν† ν°μ— λ€ν• propertyλ¥Ό key-value ν•νƒλ΅ μ €μ¥ν•λ‹¤.

3. signature (μ„λ…)
   JWTκ°€ μ›λ³Έ κ·Έλ€λ΅λΌλ” κ²ƒμ„ ν™•μΈν•  λ• μ‚¬μ©ν•λ” λ¶€λ¶„
   λΉ„λ°€ν‚¤κ°€ μλ” κ³³μ—μ„λ§ κ°€λ¥ν•λ‹¤.

- μ¥μ κ³Ό λ‹¨μ 

  - μ¥μ 

    1. ν† ν°μ— μΈμ¦μ— ν•„μ”ν• μ •λ³΄κ°€ ν¬ν•¨λμ–΄μκΈ° λ•λ¬Έμ— μΈμ¦ μ €μ¥μ†κ°€ λ³„λ„λ΅ ν•„μμ μ΄μ§€ μ•λ‹¤.
    2. sessionκ³Ό λ‹¤λ¥΄κ² clientμ μƒνƒλ¥Ό serverκ°€ μ €μ¥ν•΄ λ‘μ§€ μ•μ•„λ„ λλ‹¤.
    3. μ„λ…μ„ κ³µν†µν‚¤ κ°μΈν‚¤ μ•”νΈν™”λ¥Ό ν†µν•΄ λ§‰μ•„λ‘μ—κΈ°μ— λ³΄μ•μ„±μ΄ λμ–΄λ‚¨

  - λ‹¨μ 
    1. ν† ν°μ€ clientμ— μ €μ¥λμ–΄ DBμ—μ„ μ‚¬μ©μ μ •λ³΄λ¥Ό μ΅°μ‘ν•λ”λΌκ³  ν† ν°μ— μ§μ ‘ μ μ©μ΄ λ¶κ°€
    2. ν•„λ“κ°€ μ¶”κ°€λ  μλ΅ ν† ν°μ΄ μ»¤μ§ μ μμ

</br>

[Sessionκ³Ό JWT μ„¤λ…](https://velog.io/@junghyeonsu/%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%90%EC%84%9C-%EB%A1%9C%EA%B7%B8%EC%9D%B8%EC%9D%84-%EC%B2%98%EB%A6%AC%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95)

# μΈμ¦ & μΈκ°€

1. front-end logic
   `fetch`λ¥Ό ν†µν•΄ body-contentλ¥Ό `POST`λ¥Ό ν†µν•΄ JSONμΌλ΅ serverμ—κ² λ³΄λ‚Έλ‹¤.

   1. fetch

   ```javascript
   fetch("api", {
     method: "POST",
     body: JSON.stringify({
       email: this.state.id,
     }),
   })
     .then((response) => response.json())
     .then((result) => console.log(result));
   ```

2. proxy

package.jsonμ—μ„ proxyλ€ propertyλ¥Ό μ§‘μ–΄ λ„£μΌλ©΄ react serverλ” λ‚΄κ°€ μ”μ²­μ„ μ–΄λ–¤ κ³³μΌλ΅ λ³΄λ‚΄μ•Όν•λ”μ§€ μ•κ² λλ‹¤.

# Number

"-04324"μ™€ κ°™μ€ stringμ„ Nubmerλ΅ λ°”κΏ€λ• 0μ΄ μ•μ— ν¬ν•¨λ μ«μλ” μ—†κΈ°μ— 0μ„ μλ™μ μΌλ΅ μ—†μ• μ£Όκ³  λ°ν™ν•΄μ¤€λ‹¤.

```javascript
Number("-04324"); // -4324
```
